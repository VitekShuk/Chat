(this.webpackJsonpblablachatfe=this.webpackJsonpblablachatfe||[]).push([[0],{102:function(e,a,t){e.exports=t(145)},142:function(e,a){},145:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(10),c=t.n(o),i=t(15),s=t(185),l=t(184),m=t(177),u=t(181),d=t(178),g=t(47),p=t.n(g),f=t(147),E=t(14),h=t.n(E),v=t(174),b=t(179);function w(e){var a=e.setPage,t=z(),o=Object(n.useState)(""),c=Object(i.a)(o,2),g=c[0],E=c[1],w=Object(n.useState)(""),x=Object(i.a)(w,2),O=x[0],j=x[1],k=Object(n.useState)(""),y=Object(i.a)(k,2),S=y[0],C=y[1],N=function(e){var a=e.target,t=a.value,n=a.name;"login"===n&&E(t),"password"===n&&j(t),"repeat password"===n&&C(t)};return r.a.createElement(v.a,{component:"main",maxWidth:"xs"},r.a.createElement(m.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(s.a,{className:t.avatar},r.a.createElement(p.a,null)),r.a.createElement(f.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:t.form,noValidate:!0},r.a.createElement(d.a,{container:!0,spacing:2},r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(u.a,{variant:"outlined",required:!0,fullWidth:!0,id:"login",label:"Login",name:"login",autoComplete:"username",value:g,onChange:N})),r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(u.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password",value:O,onChange:N})),r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(u.a,{variant:"outlined",required:!0,fullWidth:!0,name:"repeat password",label:"Repeat password",type:"password",id:"repeat password",autoComplete:"new-password",value:S,onChange:N}))),r.a.createElement(l.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){if(O===S){var e="http://ec2-52-27-242-143.us-west-2.compute.amazonaws.com/signup?login=".concat(g,"&password=").concat(O);fetch(e,{method:"POST"}).then((function(e){return e.json()})).then((function(e){e.access_token&&h.a.set("token",e.access_token),e.access_token&&a(_),h.a.set("userLogin",g)}))}}},"Sign Up"),r.a.createElement(d.a,{container:!0,justify:"flex-end"},r.a.createElement(d.a,{item:!0},r.a.createElement(b.a,{variant:"body2",onClick:function(){return a(B)},style:{cursor:"pointer"}},"Already have an account? Sign in"))))))}function x(e){var a=e.setPage,t=z(),o=Object(n.useState)(""),c=Object(i.a)(o,2),g=c[0],E=c[1],w=Object(n.useState)(""),x=Object(i.a)(w,2),O=x[0],j=x[1],k=function(e){var a=e.target,t=a.value,n=a.name;"login"===n&&E(t),"password"===n&&j(t)};return r.a.createElement(v.a,{component:"main",maxWidth:"xs"},r.a.createElement(m.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(s.a,{className:t.avatar},r.a.createElement(p.a,null)),r.a.createElement(f.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:t.form,noValidate:!0},r.a.createElement(d.a,{container:!0,spacing:2},r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(u.a,{variant:"outlined",required:!0,fullWidth:!0,id:"login",label:"Login",name:"login",autoComplete:"login",value:g,onChange:k})),r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(u.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:O,onChange:k}))),r.a.createElement(l.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){var e="http://ec2-52-27-242-143.us-west-2.compute.amazonaws.com/signin?login=".concat(g,"&password=").concat(O);fetch(e,{method:"POST"}).then((function(e){return e.json()})).then((function(e){e.access_token&&h.a.set("token",e.access_token),e.access_token&&a(_),h.a.set("userLogin",g)}))}},"Sign In"),r.a.createElement(d.a,{item:!0},r.a.createElement(b.a,{variant:"body2",onClick:function(){return a(T)},style:{cursor:"pointer"}},"Don't have an account? Sign Up")))))}var O=t(180),j=t(88),k=t.n(j),y=t(182),S=t(91),C=t(89),N=t(90),W=t.n(N),P=t(183),L=Object(O.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",minWidth:"288px"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},buttonOut:{position:"absolute"},messageInfo:{color:"rgba(0, 0, 0, 0.5)"},messageBox:{overflowX:"hidden",overflowY:"auto"},message:{marginBottom:"14px",marginLeft:"10px",marginRight:"10px",maxWidth:"458px",wordWrap:"break-word"},userLogin:{marginLeft:"auto",marginRight:0,fontSize:16}}})),I=k()("http://ec2-52-27-242-143.us-west-2.compute.amazonaws.com/");function q(e){var a=e.setPage,t=L();I.connect();var o=Object(n.useState)(""),c=Object(i.a)(o,2),g=c[0],p=c[1],E=Object(n.useState)([]),b=Object(i.a)(E,2),w=b[0],x=b[1],O=h.a.get("userLogin");Object(n.useEffect)((function(){return I.emit("messages",JSON.stringify({command:"getAllMessages"}),(function(e){x(e)})),I.on("messages",(function(e){x(e)})),function(){I.disconnect()}}),[]);var j=function(e){var a=e.login,n=e.text,o=e.createdAt,c=Object(y.a)(Object(C.a)(o),"Pp",{locale:S.a});return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{className:t.messageInfo},"".concat(c,", ").concat(a,": ")),r.a.createElement(P.a,{className:t.message},n))};return r.a.createElement(v.a,{component:"main",maxWidth:"sm"},r.a.createElement(l.a,{variant:"outlined",size:"small",className:t.buttonOut,onClick:function(){h.a.set("token",""),h.a.set("userLogin",""),a(B)}},"Out"),r.a.createElement(m.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(P.a,{className:t.userLogin},O),r.a.createElement(s.a,{className:t.avatar},r.a.createElement(W.a,null)),r.a.createElement(f.a,{component:"h1",variant:"h5"},"Bla-bla-chat"),r.a.createElement("form",{className:t.form,noValidate:!0},r.a.createElement(d.a,{container:!0,spacing:2},r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(P.a,{height:"500px",component:"div",border:"1px solid",borderRadius:"4px",borderColor:"rgba(0, 0, 0, 0.23)",padding:"10px",className:t.messageBox},w.map((function(e){return r.a.createElement(j,{key:e.id,login:e.login,text:e.text,createdAt:e.createdAt})})))),r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(u.a,{variant:"outlined",required:!0,fullWidth:!0,name:"message",label:"Message",type:"message",id:"message",multiline:!0,value:g,onChange:function(e){var a=e.target,t=a.value;"message"===a.name&&p(t)}}))),r.a.createElement(l.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){I.emit("events",JSON.stringify({command:"createMessage",data:{text:g}})),p("")}},"Send"))))}I.disconnect();var B="signIn",T="signUp",_="chat",z=Object(O.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));var A=function(){var e=Object(n.useState)(B),a=Object(i.a)(e,2),t=a[0],o=a[1];return Object(n.useEffect)((function(){h.a.get("token")&&o(_)}),[]),r.a.createElement(r.a.Fragment,null,t===T&&r.a.createElement(w,{setPage:o}),t===B&&r.a.createElement(x,{setPage:o}),t===_&&r.a.createElement(q,{setPage:o}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[102,1,2]]]);
//# sourceMappingURL=main.d0c8070d.chunk.js.map