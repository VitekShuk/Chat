(this.webpackJsonpblablachatfe=this.webpackJsonpblablachatfe||[]).push([[0],{102:function(e,a,t){e.exports=t(145)},142:function(e,a){},145:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(10),c=t.n(o),i=t(15),s=t(185),l=t(184),m=t(177),u=t(181),d=t(178),g=t(47),p=t.n(g),f=t(147),E=t(14),h=t.n(E),v=t(174),b=t(179),w="http://localhost:80/";function x(e){var a=e.setPage,t=J(),o=Object(n.useState)(""),c=Object(i.a)(o,2),g=c[0],E=c[1],x=Object(n.useState)(""),O=Object(i.a)(x,2),j=O[0],k=O[1],y=Object(n.useState)(""),S=Object(i.a)(y,2),C=S[0],N=S[1],W=function(e){var a=e.target,t=a.value,n=a.name;"login"===n&&E(t),"password"===n&&k(t),"repeat password"===n&&N(t)};return r.a.createElement(v.a,{component:"main",maxWidth:"xs"},r.a.createElement(m.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(s.a,{className:t.avatar},r.a.createElement(p.a,null)),r.a.createElement(f.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:t.form,noValidate:!0},r.a.createElement(d.a,{container:!0,spacing:2},r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(u.a,{variant:"outlined",required:!0,fullWidth:!0,id:"login",label:"Login",name:"login",autoComplete:"username",value:g,onChange:W})),r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(u.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password",value:j,onChange:W})),r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(u.a,{variant:"outlined",required:!0,fullWidth:!0,name:"repeat password",label:"Repeat password",type:"password",id:"repeat password",autoComplete:"new-password",value:C,onChange:W}))),r.a.createElement(l.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){if(j===C){var e="".concat(w,"signup?login=").concat(g,"&password=").concat(j);fetch(e,{method:"POST"}).then((function(e){return e.json()})).then((function(e){e.access_token&&h.a.set("token",e.access_token),e.access_token&&a(A),h.a.set("userLogin",g)}))}}},"Sign Up"),r.a.createElement(d.a,{container:!0,justify:"flex-end"},r.a.createElement(d.a,{item:!0},r.a.createElement(b.a,{variant:"body2",onClick:function(){return a(T)},style:{cursor:"pointer"}},"Already have an account? Sign in"))))))}function O(e){var a=e.setPage,t=J(),o=Object(n.useState)(""),c=Object(i.a)(o,2),g=c[0],E=c[1],x=Object(n.useState)(""),O=Object(i.a)(x,2),j=O[0],k=O[1],y=function(e){var a=e.target,t=a.value,n=a.name;"login"===n&&E(t),"password"===n&&k(t)};return r.a.createElement(v.a,{component:"main",maxWidth:"xs"},r.a.createElement(m.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(s.a,{className:t.avatar},r.a.createElement(p.a,null)),r.a.createElement(f.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:t.form,noValidate:!0},r.a.createElement(d.a,{container:!0,spacing:2},r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(u.a,{variant:"outlined",required:!0,fullWidth:!0,id:"login",label:"Login",name:"login",autoComplete:"login",value:g,onChange:y})),r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(u.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:j,onChange:y}))),r.a.createElement(l.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){var e="".concat(w,"signin?login=").concat(g,"&password=").concat(j);fetch(e,{method:"POST"}).then((function(e){return e.json()})).then((function(e){e.access_token&&h.a.set("token",e.access_token),e.access_token&&a(A),h.a.set("userLogin",g)}))}},"Sign In"),r.a.createElement(d.a,{item:!0},r.a.createElement(b.a,{variant:"body2",onClick:function(){return a(_)},style:{cursor:"pointer"}},"Don't have an account? Sign Up")))))}var j=t(180),k=t(88),y=t.n(k),S=t(182),C=t(91),N=t(89),W=t(90),P=t.n(W),L=t(183),I=Object(j.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",minWidth:"288px"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},buttonOut:{position:"absolute"},messageInfo:{color:"rgba(0, 0, 0, 0.5)"},messageBox:{overflowX:"hidden",overflowY:"auto"},message:{marginBottom:"14px",marginLeft:"10px",marginRight:"10px",maxWidth:"458px",wordWrap:"break-word"},userLogin:{marginLeft:"auto",marginRight:0,fontSize:16}}})),q=y()(w);function B(e){var a=e.setPage,t=I();q.connect();var o=Object(n.useState)(""),c=Object(i.a)(o,2),g=c[0],p=c[1],E=Object(n.useState)([]),b=Object(i.a)(E,2),w=b[0],x=b[1],O=h.a.get("userLogin");Object(n.useEffect)((function(){return q.emit("messages",JSON.stringify({command:"getAllMessages"}),(function(e){x(e)})),q.on("messages",(function(e){x(e)})),function(){q.disconnect()}}),[]);var j=function(e){var a=e.login,n=e.text,o=e.createdAt,c=Object(S.a)(Object(N.a)(o),"Pp",{locale:C.a});return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{className:t.messageInfo},"".concat(c,", ").concat(a,": ")),r.a.createElement(L.a,{className:t.message},n))};return r.a.createElement(v.a,{component:"main",maxWidth:"sm"},r.a.createElement(l.a,{variant:"outlined",size:"small",className:t.buttonOut,onClick:function(){h.a.set("token",""),h.a.set("userLogin",""),a(T)}},"Out"),r.a.createElement(m.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(L.a,{className:t.userLogin},O),r.a.createElement(s.a,{className:t.avatar},r.a.createElement(P.a,null)),r.a.createElement(f.a,{component:"h1",variant:"h5"},"Bla-bla-chat"),r.a.createElement("form",{className:t.form,noValidate:!0},r.a.createElement(d.a,{container:!0,spacing:2},r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(L.a,{height:"500px",component:"div",border:"1px solid",borderRadius:"4px",borderColor:"rgba(0, 0, 0, 0.23)",padding:"10px",className:t.messageBox},w.map((function(e){return r.a.createElement(j,{key:e.id,login:e.login,text:e.text,createdAt:e.createdAt})})))),r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(u.a,{variant:"outlined",required:!0,fullWidth:!0,name:"message",label:"Message",type:"message",id:"message",multiline:!0,value:g,onChange:function(e){var a=e.target,t=a.value;"message"===a.name&&p(t)}}))),r.a.createElement(l.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){q.emit("events",JSON.stringify({command:"createMessage",data:{text:g}})),p("")}},"Send"))))}q.disconnect();var T="signIn",_="signUp",A="chat",J=Object(j.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));var M=function(){var e=Object(n.useState)(T),a=Object(i.a)(e,2),t=a[0],o=a[1];return Object(n.useEffect)((function(){h.a.get("token")&&o(A)}),[]),r.a.createElement(r.a.Fragment,null,t===_&&r.a.createElement(x,{setPage:o}),t===T&&r.a.createElement(O,{setPage:o}),t===A&&r.a.createElement(B,{setPage:o}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[102,1,2]]]);
//# sourceMappingURL=main.4fe1cb10.chunk.js.map